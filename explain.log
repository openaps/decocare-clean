OUT
## Observations
Mon Jan  7 14:33:57 PST 2013
## stick
* not ok
## pump
howdy! pump runs were NOT OK
### Last send command
```
DEBUG:stick:<Stick:status:<LinkStatus:0x03:error::size(78)>:command:<TransmitPacket:ReadHistoryData[page][0]>>:STARTING POLL PHASE:attempt:0
DEBUG:stick:<Stick:status:<LinkStatus:0x03:error::size(78)>:command:<TransmitPacket:ReadHistoryData[page][0]>>:poll:attempt:0
DEBUG:stick:read_status
INFO:stick:link Stick:status:<LinkStatus:0x03:error::size(78)>:command:<LinkStatus:0x03:error::size(64)> processing LinkStatus:0x03:error:)
```
### Traceback
```
0078   0x64 0x00 0x00 0x00 0x00 0x00 0x00 0x00    d.......
0080   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
0088   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
0090   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
0098   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
00A0   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
00A8   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
00B0   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
00B8   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........

Traceback (most recent call last):
  File "pump/commands.py", line 558, in <module>
    get_pages(session)
  File "pump/commands.py", line 529, in get_pages
    device.execute(comm)
  File "/home/bewest/src/decoding-carelink/pump/session.py", line 39, in execute
    self.download( )
  File "/home/bewest/src/decoding-carelink/pump/session.py", line 52, in download
    data = self.stick.download( )
  File "/home/bewest/src/decoding-carelink/pump/stick.py", line 555, in download
    data = self.download_packet(size)
  File "/home/bewest/src/decoding-carelink/pump/stick.py", line 503, in download_packet
    info = self.command.parse(response)
  File "/home/bewest/src/decoding-carelink/pump/stick.py", line 263, in parse
    raise BadCRC(msg)
stick.BadCRC: ReadRadio:BAD ACK:found raw[crc]: 0x00:expected_crc(data): 0xd0:raw:
--
INFO:root:usb.read.raw:
0000   0x01 0x66 0x03 0x0b 0x2c 0x00 0x00 0x00    .f..,...
0008   0x00 0x43 0x6f 0x6d 0x4c 0x69 0x6e 0x6b    .ComLink
0010   0x20 0x49 0x49 0x01 0x10 0x02 0x00 0x01     II.....
0018   0x01 0x03 0x00 0x00 0x00 0x00 0x00 0x00    ........
0020   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
0028   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
0030   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
0038   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
INFO:__main__:quit send_force_read, found len: 64 expected 64 after 0 attempts
Traceback (most recent call last):
  File "pump/stick.py", line 655, in <module>
    stick.open( )
  File "pump/stick.py", line 634, in open
    signal = self.signal_strength( )
  File "pump/stick.py", line 410, in signal_strength
    return self.query(SignalStrength)
  File "pump/stick.py", line 395, in query
    return self.process( )
  File "pump/stick.py", line 388, in process
    ack, response = self.command.respond(raw)
  File "pump/stick.py", line 51, in respond
    assert False, ("NAK!!\n%s" % lib.hexdump(raw[:3]))
AssertionError: NAK!!
0000   0x01 0x66 0x03                             .f.
Command exited with non-zero status 1
--
INFO:root:usb.read.raw:
0000   0x01 0x66 0x03 0x0b 0x2c 0x00 0x00 0x00    .f..,...
0008   0x00 0x43 0x6f 0x6d 0x4c 0x69 0x6e 0x6b    .ComLink
0010   0x20 0x49 0x49 0x01 0x10 0x02 0x00 0x01     II.....
0018   0x01 0x03 0x00 0x00 0x00 0x00 0x00 0x00    ........
0020   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
0028   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
0030   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
0038   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
INFO:__main__:quit send_force_read, found len: 64 expected 64 after 0 attempts
Traceback (most recent call last):
  File "pump/stick.py", line 661, in <module>
    signal = stick.signal_strength( )
  File "pump/stick.py", line 410, in signal_strength
    return self.query(SignalStrength)
  File "pump/stick.py", line 395, in query
    return self.process( )
  File "pump/stick.py", line 388, in process
    ack, response = self.command.respond(raw)
  File "pump/stick.py", line 51, in respond
    assert False, ("NAK!!\n%s" % lib.hexdump(raw[:3]))
AssertionError: NAK!!
0000   0x01 0x66 0x03                             .f.
Command exited with non-zero status 1
python pump/stick.py /dev/ttyUSB0
	elapsed 0:00.38
```
### stats
```
```
* PAGES downloaded:2
* CRC ERROR FOUND
19:  echo "Was there an ACK ERROR?"
20:  echo "### DIAGNOSE CRC"
48:INFO:__main__:howdy! I'm going to take a look at your carelink usb stick.
235:INFO:__main__:finished processing UsbStats:0x05 0x01, {'errors.timeouts': 0, 'packets.transmit': 8L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 8L, 'errors.crc': 0}
253:INFO:__main__:finished processing RadioStats:0x05 0x00, {'errors.timeouts': 0, 'packets.transmit': 0L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 0L, 'errors.crc': 0}
254:INFO:__main__:{'radio': {'errors.crc': 0,
255:           'errors.naks': 0,
256:           'errors.sequence': 0,
257:           'errors.timeouts': 0,
258:           'packets.received': 0L,
259:           'packets.transmit': 0L},
260: 'usb': {'errors.crc': 0,
261:         'errors.naks': 0,
262:         'errors.sequence': 0,
263:         'errors.timeouts': 0,
264:         'packets.received': 8L,
265:         'packets.transmit': 8L}}
284:INFO:__main__:finished processing UsbStats:0x05 0x01, {'errors.timeouts': 0, 'packets.transmit': 10L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 10L, 'errors.crc': 0}
302:INFO:__main__:finished processing RadioStats:0x05 0x00, {'errors.timeouts': 0, 'packets.transmit': 0L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 0L, 'errors.crc': 0}
304:{'radio': {'errors.crc': 0,
305:           'errors.naks': 0,
306:           'errors.sequence': 0,
307:           'errors.timeouts': 0,
308:           'packets.received': 0L,
309:           'packets.transmit': 0L},
310: 'usb': {'errors.crc': 0,
311:         'errors.naks': 0,
312:         'errors.sequence': 0,
313:         'errors.timeouts': 0,
314:         'packets.received': 10L,
315:         'packets.transmit': 10L}}
316:INFO:__main__:XXX:clear_buffer[attempt][0]:segments[0],total_segments[0]:raw[0]:BEGIN :first poll
411:INFO:__main__:XXX:clear_buffer[attempt][0]:segments[0],total_segments[0]:raw[0]:END first poll 0:SHOULD DOWNLOAD :False
429:INFO:__main__:finished processing UsbStats:0x05 0x01, {'errors.timeouts': 0, 'packets.transmit': 16L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 16L, 'errors.crc': 0}
447:INFO:__main__:finished processing RadioStats:0x05 0x00, {'errors.timeouts': 0, 'packets.transmit': 0L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 0L, 'errors.crc': 0}
448:INFO:__main__:XXX:clear_buffer[attempt][0]:END:no data:INTERFACE STATS
449:{'radio': {'errors.crc': 0,
450:           'errors.naks': 0,
451:           'errors.sequence': 0,
452:           'errors.timeouts': 0,
453:           'packets.received': 0L,
454:           'packets.transmit': 0L},
455: 'usb': {'errors.crc': 0,
456:         'errors.naks': 0,
457:         'errors.sequence': 0,
458:         'errors.timeouts': 0,
459:         'packets.received': 16L,
460:         'packets.transmit': 16L}}
480:INFO:__main__:finished processing UsbStats:0x05 0x01, {'errors.timeouts': 0, 'packets.transmit': 18L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 18L, 'errors.crc': 0}
498:INFO:__main__:finished processing RadioStats:0x05 0x00, {'errors.timeouts': 0, 'packets.transmit': 0L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 0L, 'errors.crc': 0}
500:{'radio': {'errors.crc': 0,
501:           'errors.naks': 0,
502:           'errors.sequence': 0,
503:           'errors.timeouts': 0,
504:           'packets.received': 0L,
505:           'packets.transmit': 0L},
506: 'usb': {'errors.crc': 0,
507:         'errors.naks': 0,
508:         'errors.sequence': 0,
509:         'errors.timeouts': 0,
510:         'packets.received': 18L,
511:         'packets.transmit': 18L}}
512:INFO:__main__:howdy! all done looking at the stick
518:INFO:__main__:howdy! I'm going to take a look at your pump.
658:INFO:stick:finished processing UsbStats:0x05 0x01, {'errors.timeouts': 0, 'packets.transmit': 26L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 26L, 'errors.crc': 0}
676:INFO:stick:finished processing RadioStats:0x05 0x00, {'errors.timeouts': 0, 'packets.transmit': 0L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 0L, 'errors.crc': 0}
677:INFO:__main__:{'radio': {'errors.crc': 0,
678:           'errors.naks': 0,
679:           'errors.sequence': 0,
680:           'errors.timeouts': 0,
681:           'packets.received': 0L,
682:           'packets.transmit': 0L},
683: 'usb': {'errors.crc': 0,
684:         'errors.naks': 0,
685:         'errors.sequence': 0,
686:         'errors.timeouts': 0,
687:         'packets.received': 26L,
688:         'packets.transmit': 26L}}
714:INFO:__main__:sleeping 17 before download
715:INFO:__main__:no download required
716:INFO:__main__:manually download PowerControl
746:INFO:stick:download_packet:15
762:WARNING:stick:bad zero CRC?
763:INFO:__main__:ENDING manual download:
782:INFO:stick:finished processing UsbStats:0x05 0x01, {'errors.timeouts': 0, 'packets.transmit': 31L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 31L, 'errors.crc': 0}
800:INFO:stick:finished processing RadioStats:0x05 0x00, {'errors.timeouts': 0, 'packets.transmit': 2L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 2L, 'errors.crc': 0}
801:INFO:__main__:{'radio': {'errors.crc': 0,
802:           'errors.naks': 0,
803:           'errors.sequence': 0,
804:           'errors.timeouts': 0,
805:           'packets.received': 2L,
806:           'packets.transmit': 2L},
807: 'usb': {'errors.crc': 0,
808:         'errors.naks': 0,
809:         'errors.sequence': 0,
810:         'errors.timeouts': 0,
811:         'packets.received': 31L,
812:         'packets.transmit': 31L}}
836:INFO:__main__:sleeping 0 before download
837:INFO:__main__:proceeding with download
886:INFO:stick:download_packet:78
927:INFO:stick:finished processing UsbStats:0x05 0x01, {'errors.timeouts': 0, 'packets.transmit': 37L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 37L, 'errors.crc': 0}
945:INFO:stick:finished processing RadioStats:0x05 0x00, {'errors.timeouts': 0, 'packets.transmit': 3L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 3L, 'errors.crc': 0}
946:INFO:__main__:{'radio': {'errors.crc': 0,
947:           'errors.naks': 0,
948:           'errors.sequence': 0,
949:           'errors.timeouts': 0,
950:           'packets.received': 3L,
951:           'packets.transmit': 3L},
952: 'usb': {'errors.crc': 0,
953:         'errors.naks': 0,
954:         'errors.sequence': 0,
955:         'errors.timeouts': 0,
956:         'packets.received': 37L,
957:         'packets.transmit': 37L}}
958:INFO:__main__:howdy! all done looking at pump
964:INFO:__main__:howdy! I'm going to take a look at your pump and grab lots of info.
1104:INFO:stick:finished processing UsbStats:0x05 0x01, {'errors.timeouts': 0, 'packets.transmit': 45L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 45L, 'errors.crc': 0}
1122:INFO:stick:finished processing RadioStats:0x05 0x00, {'errors.timeouts': 0, 'packets.transmit': 3L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 3L, 'errors.crc': 0}
1123:INFO:__main__:{'radio': {'errors.crc': 0,
1124:           'errors.naks': 0,
1125:           'errors.sequence': 0,
1126:           'errors.timeouts': 0,
1127:           'packets.received': 3L,
1128:           'packets.transmit': 3L},
1129: 'usb': {'errors.crc': 0,
1130:         'errors.naks': 0,
1131:         'errors.sequence': 0,
1132:         'errors.timeouts': 0,
1133:         'packets.received': 45L,
1134:         'packets.transmit': 45L}}
1158:INFO:session:sleeping 0 before download
1159:INFO:session:proceeding with download
1208:INFO:stick:download_packet:78
1255:INFO:session:sleeping 0 before download
1256:INFO:session:proceeding with download
1305:INFO:stick:download_packet:78
1354:INFO:session:sleeping 0 before download
1355:INFO:session:proceeding with download
1404:INFO:stick:download_packet:78
1452:INFO:session:sleeping 0 before download
1453:INFO:session:proceeding with download
1502:INFO:stick:download_packet:78
1550:INFO:session:sleeping 0 before download
1551:INFO:session:proceeding with download
1600:INFO:stick:download_packet:78
1648:INFO:session:sleeping 0 before download
1649:INFO:session:proceeding with download
1698:INFO:stick:download_packet:78
1755:INFO:session:sleeping 0 before download
1756:INFO:session:proceeding with download
1805:INFO:stick:download_packet:78
1862:INFO:session:sleeping 0 before download
1863:INFO:session:proceeding with download
1912:INFO:stick:download_packet:78
1969:INFO:session:sleeping 0 before download
1970:INFO:session:proceeding with download
2019:INFO:stick:download_packet:78
2076:INFO:session:sleeping 0 before download
2077:INFO:session:proceeding with download
2126:INFO:stick:download_packet:78
2183:INFO:session:sleeping 0 before download
2184:INFO:session:proceeding with download
2233:INFO:stick:download_packet:78
2290:INFO:session:sleeping 0 before download
2291:INFO:session:proceeding with download
2340:INFO:stick:download_packet:78
2397:INFO:session:sleeping 0 before download
2398:INFO:session:proceeding with download
2447:INFO:stick:download_packet:78
2505:INFO:session:sleeping 0.1 before download
2506:INFO:session:proceeding with download
2555:INFO:stick:download_packet:78
2603:INFO:stick:download_packet:206
2667:INFO:stick:download_packet:142
2698:WARNING:stick:bad zero CRC?
2724:INFO:stick:download_packet:142
2755:WARNING:stick:bad zero CRC?
2781:INFO:stick:download_packet:142
2812:WARNING:stick:bad zero CRC?
2838:INFO:stick:download_packet:142
2869:WARNING:stick:bad zero CRC?
2895:INFO:stick:download_packet:142
2926:WARNING:stick:bad zero CRC?
2952:INFO:stick:download_packet:142
3258:INFO:stick:finished processing UsbStats:0x05 0x01, {'errors.timeouts': 0, 'packets.transmit': 117L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 117L, 'errors.crc': 0}
3276:INFO:stick:finished processing RadioStats:0x05 0x00, {'errors.timeouts': 0, 'packets.transmit': 34L, 'errors.naks': 0, 'errors.sequence': 0, 'packets.received': 33L, 'errors.crc': 0}
3277:INFO:__main__:{'radio': {'errors.crc': 0,
3278:           'errors.naks': 0,
3279:           'errors.sequence': 0,
3280:           'errors.timeouts': 0,
3281:           'packets.received': 33L,
3282:           'packets.transmit': 34L},
3283: 'usb': {'errors.crc': 0,
3284:         'errors.naks': 0,
3285:         'errors.sequence': 0,
3286:         'errors.timeouts': 0,
3287:         'packets.received': 117L,
3288:         'packets.transmit': 117L}}
3313:INFO:session:sleeping 0 before download
3314:INFO:session:proceeding with download
3363:INFO:stick:download_packet:78
3421:INFO:session:sleeping 0.1 before download
3422:INFO:session:proceeding with download
3471:INFO:stick:download_packet:78
3519:INFO:stick:download_packet:206
3558:WARNING:stick:bad zero CRC?
3559:INFO:stick:ReadRadio:BAD ACK:found raw[crc]: 0x00:expected_crc(data): 0xd0:raw:
3644:    self.download( )
3645:  File "/home/bewest/src/decoding-carelink/pump/session.py", line 52, in download
3646:    data = self.stick.download( )
3647:  File "/home/bewest/src/decoding-carelink/pump/stick.py", line 555, in download
3648:    data = self.download_packet(size)
3649:  File "/home/bewest/src/decoding-carelink/pump/stick.py", line 503, in download_packet
3652:    raise BadCRC(msg)
3653:stick.BadCRC: ReadRadio:BAD ACK:found raw[crc]: 0x00:expected_crc(data): 0xd0:raw:
3738:Was there an ACK ERROR?
3739:### DIAGNOSE CRC
3740:INFO:__main__:howdy! I'm going to take a look at your carelink usb stick.
3800:INFO:__main__:howdy! I'm going to take a look at your carelink usb stick.
* NAK FOUND
* NOT A CLEAN RUN
