# stage 5: fixed prime ~ `Oct 1, 11:20AM 2006`
11. Fixed Prime, memory dump (stage 5)

```diff
diff -u stage-4/hex-page-0.log stage-5/hex-page-0.log
--- stage-4/hex-page-0.log	2013-01-01 11:54:27.414931246 -0800
+++ stage-5/hex-page-0.log	2013-01-01 12:04:19.156683975 -0800
@@ -112,8 +112,8 @@
 0370   0x00 0x02 0x64 0x00 0x00 0x00 0x00 0x00    ..d.....
 0378   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
 0380   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
-0388   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
-0390   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
+0388   0x00 0x03 0x00 0x03 0x00 0x03 0x92 0x9e    ........
+0390   0x0b 0x01 0x06 0x00 0x00 0x00 0x00 0x00    ........
 0398   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
 03A0   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
 03A8   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
@@ -126,4 +126,4 @@
 03E0   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
 03E8   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
 03F0   0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00    ........
-03F8   0x00 0x00 0x00 0x00 0x00 0x00 0xa2 0xf6    ........
+03F8   0x00 0x00 0x00 0x00 0x00 0x00 0x9b 0x59    .......Y
diff -u stage-4/hex-page-4.log stage-5/hex-page-4.log
--- stage-4/hex-page-4.log	2013-01-01 11:54:59.615455087 -0800
+++ stage-5/hex-page-4.log	2013-01-01 12:04:40.793041554 -0800
[...] stage-4 is missing a bunch of pages
```

## Records:
```
0x03 0x00 0x03 0x00 0x03
0x92 0x9e 0x0b 0x01 0x06
  ^^   ^^   ^^   ^^   ^^
 sec  min hour  day   year


0x00 0x00 0x00 0x00 0x00 
```

## How to read full time from `ReadHistoryData (opcode 128)` log
```
0x92 0x9e 0x0b 0x01 0x06
  ^^   ^^   ^^   ^^   ^^
 sec  min hour  day   year
```
### Special bits:

Let `time_mask` (magic time byte) = `0b1100000` (`0xC0`).
Let `time_mask_invert` (magic minute byte) = `0x3F`.

### Seconds
To obtain seconds,
```
clock_seconds = seconds & time_mask_invert
eg.
18 = 0x92 & 0x3F
```

### Minutes
To obtain minutes,
```
clock_minutes = minutes & time_mask_invert
ie.
30 = 0x9e & 0x3F

```

### Hours

```
clock_hours = hours
Just convert to decimal:
clock_hours = 11 = 0x0b
```

### Day
```
clock_day = day & time_mask_invert
clock_day = 1 = 0x01 & 0x3F
```

### Months
To obtain months:
```
high_month_bits = (seconds & time_mask) >> 4
eg:
             ... 128 = ( 0x92 & 0xC0 )
high_month_bits =  8 = ( 128 >> 4 )

low_month_bits  = (minutes & time_mask) >> 6
eg:

             ... 128 = ( 0x9e & 0xC0 )
low_month_bits  =  2 = ( 128 >> 6 )

clock_month     = high_month_bits | low_month_bits

clock_month     = 10 = 8 | 2
eg, October
```

### Year
```
clock_year = year & time_mask_invert
clock_year = 1 = (0x06 & 0x3F) + 2000
```


